<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" xmlns:color="http://www.omg.org/spec/BPMN/non-normative/color/1.0" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_0ia7fl5" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.35.0" modeler:executionPlatform="Camunda Platform" modeler:executionPlatformVersion="7.21.0">
  <bpmn:process id="examRegistration" name="exam-registration" isExecutable="true" camunda:historyTimeToLive="30">
    <bpmn:startEvent id="StartEvent" name="Course registration started">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="studentEmail" label="E-Mail" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="prerequisiteA" label="Prerequisite A" type="boolean" defaultValue="false">
            <camunda:validation />
          </camunda:formField>
          <camunda:formField id="prerequisiteB" label="Prerequisite B" type="boolean" defaultValue="false">
            <camunda:validation />
          </camunda:formField>
          <camunda:formField id="prerequisiteC" label="Prerequisite C" type="boolean" defaultValue="false">
            <camunda:validation />
          </camunda:formField>
          <camunda:formField id="prerequisiteD" label="Prerequisite D" type="boolean" defaultValue="false" />
          <camunda:formField id="course" label="Course" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_13upj83</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_13upj83" sourceRef="StartEvent" targetRef="Event_StatusChecking" />
    <bpmn:exclusiveGateway id="Gateway_1tu7dt0" name="justification accepted?">
      <bpmn:incoming>Flow_0ob0zxi</bpmn:incoming>
      <bpmn:outgoing>Flow_16khaca</bpmn:outgoing>
      <bpmn:outgoing>Flow_09a9q6e</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="taskOfficeCheck" name="Check justification from exam office" camunda:candidateGroups="examoffice">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="justification" label="Students Justification" type="string">
            <camunda:properties />
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="acceptJustification" label="Accept (leave blank if not your field of responsibility)" type="boolean">
            <camunda:validation />
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0nq5d67</bpmn:incoming>
      <bpmn:outgoing>Flow_0kwi25w</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:endEvent id="EndEvent_Canceled" name="Registration stopped">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${statusListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_047b1dt</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:exclusiveGateway id="Gateway_05huf6g" name="cancel registration?">
      <bpmn:incoming>Flow_1hmth07</bpmn:incoming>
      <bpmn:outgoing>Flow_06r5348</bpmn:outgoing>
      <bpmn:outgoing>Flow_047b1dt</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="userTaskCancelOrApply" name="Select application with justification or cancel" camunda:candidateGroups="students">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="cancelRegistration" label="Cancel" type="boolean" defaultValue="false">
            <camunda:validation />
          </camunda:formField>
          <camunda:formField id="justification" label="Justification" type="string" />
          <camunda:formField id="justificationType" label="Type" type="enum">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
            <camunda:value id="technical" name="Technical Problem" />
            <camunda:value id="personal" name="Personal Reasons" />
            <camunda:value id="other" name="Other" />
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_09bc11a</bpmn:incoming>
      <bpmn:outgoing>Flow_1hmth07</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_InDeadline" name="Registration in deadline?">
      <bpmn:incoming>Flow_1i5riaz</bpmn:incoming>
      <bpmn:outgoing>Flow_035de0m</bpmn:outgoing>
      <bpmn:outgoing>Flow_069pg5e</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:boundaryEvent id="TimeBoundaryEvent_AutoCancel" name="after 7 days" attachedToRef="userTaskCancelOrApply">
      <bpmn:outgoing>Flow_0tsgbcm</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_0xpbhhh">
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">P7D</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_16khaca" name="no" sourceRef="Gateway_1tu7dt0" targetRef="EndEvent_Rejected">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!acceptJustification}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_06r5348" name="no" sourceRef="Gateway_05huf6g" targetRef="Event_0z5g2c9">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!cancelRegistration}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_047b1dt" name="yes" sourceRef="Gateway_05huf6g" targetRef="EndEvent_Canceled">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${cancelRegistration}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1hmth07" sourceRef="userTaskCancelOrApply" targetRef="Gateway_05huf6g" />
    <bpmn:sequenceFlow id="Flow_035de0m" name="no" sourceRef="Gateway_InDeadline" targetRef="Event_0npinso">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!registrationAllowed}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:boundaryEvent id="Event_0ekkseq" name="Student not found" attachedToRef="initialExistenceCheck">
      <bpmn:outgoing>Flow_1fnck62</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_1qliiyi" errorRef="Error_02i2fc5" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_04dvgsy" sourceRef="initialExistenceCheck" targetRef="checkAllPrerequisites" />
    <bpmn:boundaryEvent id="Event_0tp9fim" name="Invalid Email Format" attachedToRef="initialExistenceCheck">
      <bpmn:outgoing>Flow_0cpos3f</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_1ggbcdn" errorRef="Error_1i4qbxu" />
    </bpmn:boundaryEvent>
    <bpmn:endEvent id="EndEvent_InvalidEmailFormat" name="Stop process">
      <bpmn:incoming>Flow_0cpos3f</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_0cpos3f" sourceRef="Event_0tp9fim" targetRef="EndEvent_InvalidEmailFormat" />
    <bpmn:endEvent id="EndEvent_Rejected" name="Registration rejected">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${statusListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_16khaca</bpmn:incoming>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0v26jo8" camunda:expression="${mailService.sendRejection(execution)}" />
    </bpmn:endEvent>
    <bpmn:endEvent id="EndEvent_Stopped" name="Registration stopped">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${statusListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0tsgbcm</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_0tsgbcm" sourceRef="TimeBoundaryEvent_AutoCancel" targetRef="EndEvent_Stopped" />
    <bpmn:intermediateThrowEvent id="Event_StatusChecking" name="Status: &#10;Checking">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${statusListener}" event="start" />
        <camunda:executionListener delegateExpression="${initVariablesListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_13upj83</bpmn:incoming>
      <bpmn:outgoing>Flow_02yyfyv</bpmn:outgoing>
    </bpmn:intermediateThrowEvent>
    <bpmn:sequenceFlow id="Flow_02yyfyv" sourceRef="Event_StatusChecking" targetRef="initialExistenceCheck" />
    <bpmn:intermediateThrowEvent id="Event_0z5g2c9" name="Status: &#10;Exam office checking">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${statusListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_06r5348</bpmn:incoming>
      <bpmn:outgoing>Flow_10sq00o</bpmn:outgoing>
    </bpmn:intermediateThrowEvent>
    <bpmn:sequenceFlow id="Flow_10sq00o" sourceRef="Event_0z5g2c9" targetRef="storeJustification" />
    <bpmn:intermediateThrowEvent id="Event_0npinso" name="Status: Justifying">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${statusListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_035de0m</bpmn:incoming>
      <bpmn:outgoing>Flow_09bc11a</bpmn:outgoing>
    </bpmn:intermediateThrowEvent>
    <bpmn:sequenceFlow id="Flow_09bc11a" sourceRef="Event_0npinso" targetRef="userTaskCancelOrApply" />
    <bpmn:sequenceFlow id="Flow_09a9q6e" name="yes" sourceRef="Gateway_1tu7dt0" targetRef="Event_1mbk6yi">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${acceptJustification}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:boundaryEvent id="Event_0yf971t" name="Course not found" attachedToRef="initialExistenceCheck">
      <bpmn:outgoing>Flow_0l6iwij</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_1eyzkri" errorRef="Error_1ppmr49" />
    </bpmn:boundaryEvent>
    <bpmn:endEvent id="EndEvent_StudentNotFound" name="Send Student not found">
      <bpmn:incoming>Flow_1fnck62</bpmn:incoming>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0a7dnu4" camunda:expression="${mailService.sendStudentNotFound(execution)}" />
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_1fnck62" sourceRef="Event_0ekkseq" targetRef="EndEvent_StudentNotFound" />
    <bpmn:callActivity id="initialExistenceCheck" name="Initial existence check" calledElement="initialExistenceCheck">
      <bpmn:extensionElements>
        <camunda:in variables="all" />
        <camunda:out variables="all" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_02yyfyv</bpmn:incoming>
      <bpmn:outgoing>Flow_04dvgsy</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:boundaryEvent id="Event_16ow9bg" name="Already enrolled" attachedToRef="initialExistenceCheck">
      <bpmn:outgoing>Flow_0kgevfg</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_036fzp1" errorRef="Error_1v7ezgj" />
    </bpmn:boundaryEvent>
    <bpmn:endEvent id="EndEvent_AlreadyEnrolled" name="Send already enrolled">
      <bpmn:incoming>Flow_0kgevfg</bpmn:incoming>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1hitmxl" camunda:expression="${mailService.sendAlreadyEnrolled(execution)}" />
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_0kgevfg" sourceRef="Event_16ow9bg" targetRef="EndEvent_AlreadyEnrolled" />
    <bpmn:endEvent id="EndEvent_CourseNotFound" name="Send Course Not Found">
      <bpmn:incoming>Flow_0l6iwij</bpmn:incoming>
      <bpmn:messageEventDefinition id="MessageEventDefinition_06vh9r9" camunda:expression="${mailService.sendCourseNotFound(execution)}" />
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_0l6iwij" sourceRef="Event_0yf971t" targetRef="EndEvent_CourseNotFound" />
    <bpmn:sequenceFlow id="Flow_0nq5d67" sourceRef="Gateway_0pvk1wz" targetRef="taskOfficeCheck">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(justificationType == "personal") or (justificationType == "other")}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:inclusiveGateway id="Gateway_0pvk1wz">
      <bpmn:incoming>Flow_09hf0p7</bpmn:incoming>
      <bpmn:outgoing>Flow_0nq5d67</bpmn:outgoing>
      <bpmn:outgoing>Flow_0sr2obh</bpmn:outgoing>
    </bpmn:inclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0sr2obh" sourceRef="Gateway_0pvk1wz" targetRef="technicalCheck">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(justificationType == "technical") or (justificationType == "other")}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:inclusiveGateway id="Gateway_0f1q0ss">
      <bpmn:incoming>Flow_0kwi25w</bpmn:incoming>
      <bpmn:incoming>Flow_08exkju</bpmn:incoming>
      <bpmn:outgoing>Flow_0ob0zxi</bpmn:outgoing>
    </bpmn:inclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0kwi25w" sourceRef="taskOfficeCheck" targetRef="Gateway_0f1q0ss" />
    <bpmn:sequenceFlow id="Flow_08exkju" sourceRef="technicalCheck" targetRef="Gateway_0f1q0ss" />
    <bpmn:sequenceFlow id="Flow_0ob0zxi" sourceRef="Gateway_0f1q0ss" targetRef="Gateway_1tu7dt0" />
    <bpmn:userTask id="technicalCheck" name="Check from technical service" camunda:candidateGroups="technicalservice">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="justification" label="Students Justification" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="acceptJustification" label="Accept (leave blank if not your field of responsibility)" type="boolean" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0sr2obh</bpmn:incoming>
      <bpmn:outgoing>Flow_08exkju</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_09hf0p7" sourceRef="storeJustification" targetRef="Gateway_0pvk1wz" />
    <bpmn:serviceTask id="storeJustification" name="Store justification in DB" camunda:delegateExpression="${storeJustificationDelegate}">
      <bpmn:extensionElements />
      <bpmn:incoming>Flow_10sq00o</bpmn:incoming>
      <bpmn:outgoing>Flow_09hf0p7</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:boundaryEvent id="compensateStoreJustification" attachedToRef="storeJustification">
      <bpmn:compensateEventDefinition id="CompensateEventDefinition_1foq8s7" />
    </bpmn:boundaryEvent>
    <bpmn:serviceTask id="removeJustification" name="Remove justification from successful registration" isForCompensation="true" camunda:delegateExpression="${removeJustificationDelegate}" />
    <bpmn:intermediateThrowEvent id="Event_1mbk6yi" name="Remove stored justification">
      <bpmn:incoming>Flow_09a9q6e</bpmn:incoming>
      <bpmn:outgoing>Flow_1gwxcj4</bpmn:outgoing>
      <bpmn:compensateEventDefinition id="CompensateEventDefinition_0hgcpnd" />
    </bpmn:intermediateThrowEvent>
    <bpmn:subProcess id="checkCourseSizeProcess" name="Check course size">
      <bpmn:incoming>Flow_115ywsr</bpmn:incoming>
      <bpmn:outgoing>Flow_0a7wlft</bpmn:outgoing>
      <bpmn:startEvent id="Event_15qarr1">
        <bpmn:outgoing>Flow_0due5t0</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:intermediateThrowEvent id="Event_1a6yz20" name="review needed">
        <bpmn:incoming>Flow_090lhw2</bpmn:incoming>
        <bpmn:escalationEventDefinition id="EscalationEventDefinition_1sbeek0" escalationRef="Escalation_244frdp" />
      </bpmn:intermediateThrowEvent>
      <bpmn:sequenceFlow id="Flow_0due5t0" sourceRef="Event_15qarr1" targetRef="checkCourseSize" />
      <bpmn:serviceTask id="checkCourseSize" name="Check if course is full" camunda:delegateExpression="${checkCourseFullDelegate}">
        <bpmn:incoming>Flow_0due5t0</bpmn:incoming>
        <bpmn:outgoing>Flow_1p9y6tn</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:exclusiveGateway id="Gateway_1od2k4k" name="course full?">
        <bpmn:incoming>Flow_1p9y6tn</bpmn:incoming>
        <bpmn:outgoing>Flow_0394vm8</bpmn:outgoing>
        <bpmn:outgoing>Flow_090lhw2</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="Flow_1p9y6tn" sourceRef="checkCourseSize" targetRef="Gateway_1od2k4k" />
      <bpmn:endEvent id="End_Event_CheckCourseSize">
        <bpmn:incoming>Flow_0394vm8</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_0394vm8" sourceRef="Gateway_1od2k4k" targetRef="End_Event_CheckCourseSize">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!courseIsFull}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_090lhw2" sourceRef="Gateway_1od2k4k" targetRef="Event_1a6yz20">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${courseIsFull}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
    </bpmn:subProcess>
    <bpmn:sequenceFlow id="Flow_0a7wlft" sourceRef="checkCourseSizeProcess" targetRef="Gateway_15uislg" />
    <bpmn:boundaryEvent id="Event_1tjji2a" name="overbooking" attachedToRef="checkCourseSizeProcess">
      <bpmn:outgoing>Flow_04jhlnx</bpmn:outgoing>
      <bpmn:escalationEventDefinition id="EscalationEventDefinition_0std82b" escalationRef="Escalation_244frdp" camunda:escalationCodeVariable="reviewOverbooking" />
    </bpmn:boundaryEvent>
    <bpmn:serviceTask id="enrollCours" name="Enroll course" camunda:delegateExpression="${enrollCourseDelegate}">
      <bpmn:incoming>Flow_03vp801</bpmn:incoming>
      <bpmn:outgoing>Flow_0y1y7fq</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="reviewOverbooking" name="Review overbooking" camunda:candidateGroups="examoffice">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="overbooked" label="Overbook Course" type="boolean" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_04jhlnx</bpmn:incoming>
      <bpmn:outgoing>Flow_0whhznp</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_15uislg">
      <bpmn:incoming>Flow_0a7wlft</bpmn:incoming>
      <bpmn:incoming>Flow_1sbmp1i</bpmn:incoming>
      <bpmn:outgoing>Flow_1bfbte1</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1bfbte1" sourceRef="Gateway_15uislg" targetRef="Event_StatusEnrolling" />
    <bpmn:sequenceFlow id="Flow_04jhlnx" sourceRef="Event_1tjji2a" targetRef="reviewOverbooking" />
    <bpmn:sequenceFlow id="Flow_0y1y7fq" sourceRef="enrollCours" targetRef="generateQrCodeTask" />
    <bpmn:exclusiveGateway id="Gateway_1fouw7x" name="overbooked?">
      <bpmn:incoming>Flow_0whhznp</bpmn:incoming>
      <bpmn:outgoing>Flow_1sbmp1i</bpmn:outgoing>
      <bpmn:outgoing>Flow_0ko9zg9</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0whhznp" sourceRef="reviewOverbooking" targetRef="Gateway_1fouw7x" />
    <bpmn:sequenceFlow id="Flow_1sbmp1i" name="yes" sourceRef="Gateway_1fouw7x" targetRef="Gateway_15uislg">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${overbooked}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="EndEvent_NoOverbooking" name="Registration rejected">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${statusListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0ko9zg9</bpmn:incoming>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0ggc1qx" camunda:expression="${mailService.sendRejection(execution)}" />
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_0ko9zg9" name="no" sourceRef="Gateway_1fouw7x" targetRef="EndEvent_NoOverbooking">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!overbooked}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="generateQrCodeTask" name="Generate QR Code Event for Calendar" camunda:type="external" camunda:topic="generateQrCode">
      <bpmn:incoming>Flow_0y1y7fq</bpmn:incoming>
      <bpmn:outgoing>Flow_1kw8bwm</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1kw8bwm" sourceRef="generateQrCodeTask" targetRef="EndEvent_RegistrationSuccessful" />
    <bpmn:endEvent id="EndEvent_RegistrationSuccessful" name="Registration successful">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${statusListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1kw8bwm</bpmn:incoming>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1qmrsmz" camunda:expression="${mailService.sendConfirmation(execution)}" />
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_0db73ot" sourceRef="checkAllPrerequisites" targetRef="checkRegistrationDeadline" />
    <bpmn:subProcess id="checkAllPrerequisites" name="Check all prerequisites">
      <bpmn:incoming>Flow_04dvgsy</bpmn:incoming>
      <bpmn:outgoing>Flow_0db73ot</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics isSequential="true" camunda:collection="prerequisitesList" camunda:elementVariable="prerequisite">
        <bpmn:completionCondition xsi:type="bpmn:tFormalExpression">${missingFound == true}</bpmn:completionCondition>
      </bpmn:multiInstanceLoopCharacteristics>
      <bpmn:startEvent id="Event_05mr2no" name="Start prerequisite check">
        <bpmn:outgoing>Flow_0c91xek</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:serviceTask id="checkPrerequisite" name="Check prerequisite" camunda:delegateExpression="${checkPrerequisitesDelegate}">
        <bpmn:incoming>Flow_0c91xek</bpmn:incoming>
        <bpmn:outgoing>Flow_1kcrrbw</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:boundaryEvent id="Event_1eq3mjc" attachedToRef="checkPrerequisite">
        <bpmn:outgoing>Flow_0m80oo8</bpmn:outgoing>
        <bpmn:errorEventDefinition id="ErrorEventDefinition_124y4hm" errorRef="Error_04seq4g" />
      </bpmn:boundaryEvent>
      <bpmn:sequenceFlow id="Flow_0c91xek" sourceRef="Event_05mr2no" targetRef="checkPrerequisite" />
      <bpmn:endEvent id="Event_0llif7p" name="Prerequisite met">
        <bpmn:incoming>Flow_1kcrrbw</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_1kcrrbw" sourceRef="checkPrerequisite" targetRef="Event_0llif7p" />
      <bpmn:endEvent id="Event_0fqnniy" name="Prerequisites not met">
        <bpmn:incoming>Flow_0m80oo8</bpmn:incoming>
        <bpmn:errorEventDefinition id="ErrorEventDefinition_0xal8q1" errorRef="Error_04seq4g" />
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_0m80oo8" sourceRef="Event_1eq3mjc" targetRef="Event_0fqnniy" />
    </bpmn:subProcess>
    <bpmn:boundaryEvent id="Event_02q8z0p" attachedToRef="checkAllPrerequisites">
      <bpmn:outgoing>Flow_00hwkyv</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_1omtjxk" errorRef="Error_0tbotyk" />
    </bpmn:boundaryEvent>
    <bpmn:endEvent id="EndEvent_PrerequisitesNotMet" name="Send Prerequisites not met">
      <bpmn:incoming>Flow_00hwkyv</bpmn:incoming>
      <bpmn:messageEventDefinition id="MessageEventDefinition_02gwrfz" camunda:expression="${mailService.sendPrerequisitesNotMet(execution)}" />
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_00hwkyv" sourceRef="Event_02q8z0p" targetRef="EndEvent_PrerequisitesNotMet" />
    <bpmn:intermediateThrowEvent id="Event_StatusEnrolling" name="Status: Enrolling">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${statusListener}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1bfbte1</bpmn:incoming>
      <bpmn:outgoing>Flow_03vp801</bpmn:outgoing>
    </bpmn:intermediateThrowEvent>
    <bpmn:sequenceFlow id="Flow_1gwxcj4" sourceRef="Event_1mbk6yi" targetRef="Gateway_1ohzfcm" />
    <bpmn:sequenceFlow id="Flow_069pg5e" name="yes" sourceRef="Gateway_InDeadline" targetRef="Gateway_1ohzfcm">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${registrationAllowed}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="Gateway_1ohzfcm">
      <bpmn:incoming>Flow_069pg5e</bpmn:incoming>
      <bpmn:incoming>Flow_1gwxcj4</bpmn:incoming>
      <bpmn:outgoing>Flow_115ywsr</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_115ywsr" sourceRef="Gateway_1ohzfcm" targetRef="checkCourseSizeProcess" />
    <bpmn:sequenceFlow id="Flow_03vp801" sourceRef="Event_StatusEnrolling" targetRef="enrollCours" />
    <bpmn:subProcess id="Activity_1x3ye1k" triggeredByEvent="true">
      <bpmn:callActivity id="reviseCourseSizeCallActivity" name="Revise Course size" camunda:asyncBefore="true" calledElement="reviseCourseSize">
        <bpmn:extensionElements>
          <camunda:in source="course" target="course" />
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_1f0mxa6</bpmn:incoming>
        <bpmn:outgoing>Flow_1gctd8w</bpmn:outgoing>
      </bpmn:callActivity>
      <bpmn:sequenceFlow id="Flow_1f0mxa6" sourceRef="Event_1tl6ydl" targetRef="reviseCourseSizeCallActivity" />
      <bpmn:sequenceFlow id="Flow_1gctd8w" sourceRef="reviseCourseSizeCallActivity" targetRef="Event_0ne1a3g" />
      <bpmn:endEvent id="Event_0ne1a3g" name="Revision completed">
        <bpmn:incoming>Flow_1gctd8w</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:startEvent id="Event_1tl6ydl" name="Course is full" isInterrupting="false">
        <bpmn:outgoing>Flow_1f0mxa6</bpmn:outgoing>
        <bpmn:conditionalEventDefinition id="ConditionalEventDefinition_1qwnufn" camunda:variableName="courseIsFull">
          <bpmn:condition xsi:type="bpmn:tFormalExpression">${courseIsFull}</bpmn:condition>
        </bpmn:conditionalEventDefinition>
      </bpmn:startEvent>
    </bpmn:subProcess>
    <bpmn:businessRuleTask id="checkRegistrationDeadline" name="Check if registration is within deadline" camunda:resultVariable="registrationAllowed" camunda:decisionRef="checkExamRegistrationDeadline" camunda:mapDecisionResult="singleEntry">
      <bpmn:incoming>Flow_0db73ot</bpmn:incoming>
      <bpmn:outgoing>Flow_1i5riaz</bpmn:outgoing>
    </bpmn:businessRuleTask>
    <bpmn:sequenceFlow id="Flow_1i5riaz" sourceRef="checkRegistrationDeadline" targetRef="Gateway_InDeadline" />
    <bpmn:textAnnotation id="TextAnnotation_1argorg">
      <bpmn:text>checks if student and course are valid and if the student is already registered to the course</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_09mglk5" associationDirection="None" sourceRef="initialExistenceCheck" targetRef="TextAnnotation_1argorg" />
    <bpmn:association id="Association_1777kox" associationDirection="One" sourceRef="compensateStoreJustification" targetRef="removeJustification" />
  </bpmn:process>
  <bpmn:error id="Error_02i2fc5" name="Student not found" errorCode="STUDENT_NOT_FOUND" camunda:errorMessage="Student not found" />
  <bpmn:error id="Error_1ppmr49" name="Course not found" errorCode="COURSE_NOT_FOUND" camunda:errorMessage="Course not found" />
  <bpmn:error id="Error_1v7ezgj" name="Already enrolled" errorCode="ALREADY_ENROLLED" camunda:errorMessage="Already enrolled" />
  <bpmn:error id="Error_1kror9i" name="System Error" errorCode="SYSTEM_ERROR" />
  <bpmn:error id="Error_1i4qbxu" name="Invalid Email Format" errorCode="INVALID_EMAIL_FORMAT" camunda:errorMessage="Invalid Email Format" />
  <bpmn:error id="Error_0m6la08" name="Invalid email format" errorCode="INVALID_EMAIL_FORMAT" camunda:errorMessage="Wrong email format" />
  <bpmn:error id="Error_0fllyta" />
  <bpmn:escalation id="Escalation_3a24bmk" name="Late Enrollment" escalationCode="REVIEW_OVERBOOKING" />
  <bpmn:error id="Error_0scexvd" name="Justifi" />
  <bpmn:error id="Error_0tbotyk" name="Prerequisites not met" errorCode="PREREQUISITES_NOT_MET" />
  <bpmn:error id="Error_04seq4g" name="Prerequisites not met" errorCode="PREREQUISITES_NOT_MET" camunda:errorMessage="Prerequisites not met" />
  <bpmn:escalation id="Escalation_244frdp" name="Review Overbooking" escalationCode="REVIEW_OVERBOOKING" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="examRegistration">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent">
        <dc:Bounds x="162" y="532" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="154" y="575" width="55" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1tu7dt0_di" bpmnElement="Gateway_1tu7dt0" isMarkerVisible="true">
        <dc:Bounds x="2135" y="715" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2133" y="775" width="54" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0qx8mlq_di" bpmnElement="taskOfficeCheck">
        <dc:Bounds x="1870" y="630" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1vnxayh_di" bpmnElement="EndEvent_Canceled" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="3012" y="942" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3000" y="986" width="59" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_05huf6g_di" bpmnElement="Gateway_05huf6g" isMarkerVisible="true">
        <dc:Bounds x="1485" y="935" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1479" y="995" width="61" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0qnylg5_di" bpmnElement="userTaskCancelOrApply">
        <dc:Bounds x="1310" y="920" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1lu1mxj_di" bpmnElement="Gateway_InDeadline" isMarkerVisible="true">
        <dc:Bounds x="1085" y="525" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1075" y="488" width="71" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1m14kdc_di" bpmnElement="EndEvent_InvalidEmailFormat" bioc:stroke="#831311" bioc:fill="#ffcdd2" color:background-color="#ffcdd2" color:border-color="#831311">
        <dc:Bounds x="482" y="352" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="407" y="348" width="65" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0lu8f08_di" bpmnElement="EndEvent_Rejected" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="3012" y="722" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3001" y="765" width="59" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1u279ep_di" bpmnElement="EndEvent_Stopped" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="3012" y="1042" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3001" y="1085" width="59" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_14s0rvq_di" bpmnElement="Event_StatusChecking">
        <dc:Bounds x="352" y="532" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="347" y="496" width="46" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0z5g2c9_di" bpmnElement="Event_0z5g2c9">
        <dc:Bounds x="1492" y="722" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1481" y="672" width="58" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0npinso_di" bpmnElement="Event_0npinso">
        <dc:Bounds x="1182" y="942" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1160" y="985" width="84" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1x3wyir_di" bpmnElement="EndEvent_StudentNotFound" bioc:stroke="#831311" bioc:fill="#ffcdd2" color:background-color="#ffcdd2" color:border-color="#831311">
        <dc:Bounds x="482" y="722" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="387" y="746" width="86" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0y9821w_di" bpmnElement="initialExistenceCheck">
        <dc:Bounds x="500" y="510" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_12jre2h_di" bpmnElement="EndEvent_AlreadyEnrolled" bioc:stroke="#831311" bioc:fill="#ffcdd2" color:background-color="#ffcdd2" color:border-color="#831311">
        <dc:Bounds x="582" y="352" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="628" y="356" width="65" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1j6kk66_di" bpmnElement="EndEvent_CourseNotFound" bioc:stroke="#831311" bioc:fill="#ffcdd2" color:background-color="#ffcdd2" color:border-color="#831311">
        <dc:Bounds x="582" y="722" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="627" y="746" width="85" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1rylwqs_di" bpmnElement="Gateway_0pvk1wz">
        <dc:Bounds x="1769" y="715" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_01jb42b_di" bpmnElement="Gateway_0f1q0ss">
        <dc:Bounds x="2025" y="715" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0vhx1yz_di" bpmnElement="technicalCheck">
        <dc:Bounds x="1870" y="760" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1cyh1ro_di" bpmnElement="storeJustification">
        <dc:Bounds x="1610" y="700" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ozjhob_di" bpmnElement="removeJustification">
        <dc:Bounds x="1660" y="830" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0o3jpiw" bpmnElement="Event_1mbk6yi">
        <dc:Bounds x="2142" y="602" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2179" y="606" width="75" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0fc8due_di" bpmnElement="checkCourseSizeProcess">
        <dc:Bounds x="2300" y="510" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1xlbb2s" bpmnElement="enrollCours">
        <dc:Bounds x="2850" y="510" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_15ho6xu" bpmnElement="reviewOverbooking">
        <dc:Bounds x="2330" y="330" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_15uislg_di" bpmnElement="Gateway_15uislg" isMarkerVisible="true">
        <dc:Bounds x="2575" y="525" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1fouw7x_di" bpmnElement="Gateway_1fouw7x" isMarkerVisible="true">
        <dc:Bounds x="2485" y="345" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2478" y="402" width="64" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0nw1qv0" bpmnElement="EndEvent_NoOverbooking" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="3012" y="272" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3001" y="315" width="59" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0qfnyzv" bpmnElement="generateQrCodeTask">
        <dc:Bounds x="2980" y="510" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_10uy0r6_di" bpmnElement="EndEvent_RegistrationSuccessful" bioc:stroke="#205022" bioc:fill="#c8e6c9" color:background-color="#c8e6c9" color:border-color="#205022">
        <dc:Bounds x="3132" y="532" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3123" y="575" width="59" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0kki1q0_di" bpmnElement="checkAllPrerequisites">
        <dc:Bounds x="730" y="510" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0gnx6ob" bpmnElement="EndEvent_PrerequisitesNotMet" bioc:stroke="#831311" bioc:fill="#ffcdd2" color:background-color="#ffcdd2" color:border-color="#831311">
        <dc:Bounds x="812" y="352" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="788" y="309" width="83" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0flsh6y_di" bpmnElement="Event_StatusEnrolling">
        <dc:Bounds x="2772" y="532" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2749" y="508" width="81" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1ohzfcm_di" bpmnElement="Gateway_1ohzfcm" isMarkerVisible="true">
        <dc:Bounds x="2135" y="525" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0tf44ma_di" bpmnElement="Activity_1x3ye1k" isExpanded="true">
        <dc:Bounds x="1875" y="80" width="350" height="200" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_08434qs_di" bpmnElement="reviseCourseSizeCallActivity">
        <dc:Bounds x="2010" y="130" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_11hy2vp_di" bpmnElement="Event_0ne1a3g">
        <dc:Bounds x="2162" y="152" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2156" y="195" width="51" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0cbaz1f_di" bpmnElement="Event_1tl6ydl">
        <dc:Bounds x="1922" y="152" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1910" y="195" width="64" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1f0mxa6_di" bpmnElement="Flow_1f0mxa6">
        <di:waypoint x="1958" y="170" />
        <di:waypoint x="2010" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1gctd8w_di" bpmnElement="Flow_1gctd8w">
        <di:waypoint x="2110" y="170" />
        <di:waypoint x="2162" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_1jwh4wd_di" bpmnElement="checkRegistrationDeadline">
        <dc:Bounds x="910" y="510" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1argorg_di" bpmnElement="TextAnnotation_1argorg">
        <dc:Bounds x="190" y="325" width="140" height="84" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0tyn9hr_di" bpmnElement="Event_02q8z0p">
        <dc:Bounds x="812" y="492" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1aoo6f2_di" bpmnElement="Event_1tjji2a">
        <dc:Bounds x="2362" y="492" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2400" y="483" width="60" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0bwa7py_di" bpmnElement="compensateStoreJustification">
        <dc:Bounds x="1692" y="762" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_13zi939_di" bpmnElement="Event_16ow9bg">
        <dc:Bounds x="582" y="492" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="610" y="483" width="80" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1l22dn5_di" bpmnElement="Event_0yf971t">
        <dc:Bounds x="582" y="572" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="617" y="613" width="85" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0w3212q_di" bpmnElement="Event_0tp9fim">
        <dc:Bounds x="482" y="492" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="428" y="466" width="63" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0sp1xup_di" bpmnElement="Event_0ekkseq">
        <dc:Bounds x="482" y="572" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="406" y="613" width="87" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_18q8jnm_di" bpmnElement="TimeBoundaryEvent_AutoCancel">
        <dc:Bounds x="1392" y="982" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1331" y="1013" width="58" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_13upj83_di" bpmnElement="Flow_13upj83" bioc:stroke="#205022" color:border-color="#205022">
        <di:waypoint x="198" y="550" />
        <di:waypoint x="352" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_16khaca_di" bpmnElement="Flow_16khaca">
        <di:waypoint x="2185" y="740" />
        <di:waypoint x="3012" y="740" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2267" y="723" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_06r5348_di" bpmnElement="Flow_06r5348">
        <di:waypoint x="1510" y="935" />
        <di:waypoint x="1510" y="758" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1473" y="853" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_047b1dt_di" bpmnElement="Flow_047b1dt">
        <di:waypoint x="1535" y="960" />
        <di:waypoint x="3012" y="960" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1888" y="942" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1hmth07_di" bpmnElement="Flow_1hmth07">
        <di:waypoint x="1410" y="960" />
        <di:waypoint x="1485" y="960" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_035de0m_di" bpmnElement="Flow_035de0m">
        <di:waypoint x="1110" y="575" />
        <di:waypoint x="1110" y="960" />
        <di:waypoint x="1182" y="960" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1093" y="830" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_04dvgsy_di" bpmnElement="Flow_04dvgsy" bioc:stroke="#205022" color:border-color="#205022">
        <di:waypoint x="600" y="550" />
        <di:waypoint x="730" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0cpos3f_di" bpmnElement="Flow_0cpos3f" bioc:stroke="#831311" color:border-color="#831311">
        <di:waypoint x="500" y="492" />
        <di:waypoint x="500" y="388" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0tsgbcm_di" bpmnElement="Flow_0tsgbcm">
        <di:waypoint x="1410" y="1018" />
        <di:waypoint x="1410" y="1060" />
        <di:waypoint x="3012" y="1060" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_02yyfyv_di" bpmnElement="Flow_02yyfyv">
        <di:waypoint x="388" y="550" />
        <di:waypoint x="500" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10sq00o_di" bpmnElement="Flow_10sq00o">
        <di:waypoint x="1528" y="740" />
        <di:waypoint x="1610" y="740" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09bc11a_di" bpmnElement="Flow_09bc11a">
        <di:waypoint x="1218" y="960" />
        <di:waypoint x="1310" y="960" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09a9q6e_di" bpmnElement="Flow_09a9q6e">
        <di:waypoint x="2160" y="715" />
        <di:waypoint x="2160" y="638" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2166" y="685" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1fnck62_di" bpmnElement="Flow_1fnck62" bioc:stroke="#831311" color:border-color="#831311">
        <di:waypoint x="500" y="608" />
        <di:waypoint x="500" y="722" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0kgevfg_di" bpmnElement="Flow_0kgevfg" bioc:stroke="#831311" color:border-color="#831311">
        <di:waypoint x="600" y="492" />
        <di:waypoint x="600" y="388" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0l6iwij_di" bpmnElement="Flow_0l6iwij" bioc:stroke="#831311" color:border-color="#831311">
        <di:waypoint x="600" y="608" />
        <di:waypoint x="600" y="722" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0nq5d67_di" bpmnElement="Flow_0nq5d67">
        <di:waypoint x="1794" y="715" />
        <di:waypoint x="1794" y="670" />
        <di:waypoint x="1870" y="670" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0sr2obh_di" bpmnElement="Flow_0sr2obh">
        <di:waypoint x="1794" y="765" />
        <di:waypoint x="1794" y="800" />
        <di:waypoint x="1870" y="800" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0kwi25w_di" bpmnElement="Flow_0kwi25w">
        <di:waypoint x="1970" y="670" />
        <di:waypoint x="2050" y="670" />
        <di:waypoint x="2050" y="715" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_08exkju_di" bpmnElement="Flow_08exkju">
        <di:waypoint x="1970" y="800" />
        <di:waypoint x="2050" y="800" />
        <di:waypoint x="2050" y="765" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ob0zxi_di" bpmnElement="Flow_0ob0zxi">
        <di:waypoint x="2075" y="740" />
        <di:waypoint x="2135" y="740" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09hf0p7_di" bpmnElement="Flow_09hf0p7">
        <di:waypoint x="1710" y="740" />
        <di:waypoint x="1769" y="740" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0a7wlft_di" bpmnElement="Flow_0a7wlft">
        <di:waypoint x="2400" y="550" />
        <di:waypoint x="2575" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1bfbte1_di" bpmnElement="Flow_1bfbte1">
        <di:waypoint x="2625" y="550" />
        <di:waypoint x="2772" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_04jhlnx_di" bpmnElement="Flow_04jhlnx">
        <di:waypoint x="2380" y="492" />
        <di:waypoint x="2380" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0y1y7fq_di" bpmnElement="Flow_0y1y7fq">
        <di:waypoint x="2950" y="550" />
        <di:waypoint x="2980" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0whhznp_di" bpmnElement="Flow_0whhznp">
        <di:waypoint x="2430" y="370" />
        <di:waypoint x="2485" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1sbmp1i_di" bpmnElement="Flow_1sbmp1i">
        <di:waypoint x="2535" y="370" />
        <di:waypoint x="2600" y="370" />
        <di:waypoint x="2600" y="525" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2559" y="352" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ko9zg9_di" bpmnElement="Flow_0ko9zg9">
        <di:waypoint x="2510" y="345" />
        <di:waypoint x="2510" y="290" />
        <di:waypoint x="3012" y="290" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2519" y="315" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1kw8bwm_di" bpmnElement="Flow_1kw8bwm">
        <di:waypoint x="3080" y="550" />
        <di:waypoint x="3132" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0db73ot_di" bpmnElement="Flow_0db73ot">
        <di:waypoint x="830" y="550" />
        <di:waypoint x="910" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_00hwkyv_di" bpmnElement="Flow_00hwkyv">
        <di:waypoint x="830" y="492" />
        <di:waypoint x="830" y="388" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1gwxcj4_di" bpmnElement="Flow_1gwxcj4">
        <di:waypoint x="2160" y="602" />
        <di:waypoint x="2160" y="575" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_069pg5e_di" bpmnElement="Flow_069pg5e" bioc:stroke="#205022" color:border-color="#205022">
        <di:waypoint x="1135" y="550" />
        <di:waypoint x="2135" y="550" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1538" y="533" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_115ywsr_di" bpmnElement="Flow_115ywsr">
        <di:waypoint x="2185" y="550" />
        <di:waypoint x="2300" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_03vp801_di" bpmnElement="Flow_03vp801">
        <di:waypoint x="2808" y="550" />
        <di:waypoint x="2850" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1i5riaz_di" bpmnElement="Flow_1i5riaz" bioc:stroke="#205022" color:border-color="#205022">
        <di:waypoint x="1010" y="550" />
        <di:waypoint x="1085" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_09mglk5_di" bpmnElement="Association_09mglk5">
        <di:waypoint x="500" y="540" />
        <di:waypoint x="295" y="409" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1777kox_di" bpmnElement="Association_1777kox">
        <di:waypoint x="1710" y="798" />
        <di:waypoint x="1710" y="830" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmndi:BPMNDiagram id="BPMNDiagram_0whduo3">
    <bpmndi:BPMNPlane id="BPMNPlane_04ea020" bpmnElement="checkCourseSizeProcess">
      <bpmndi:BPMNShape id="Event_15qarr1_di" bpmnElement="Event_15qarr1">
        <dc:Bounds x="152" y="252" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="151" y="295" width="80" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0k5x9ce_di" bpmnElement="Event_1a6yz20">
        <dc:Bounds x="412" y="112" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="398" y="82" width="72" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1e1u4l5" bpmnElement="checkCourseSize">
        <dc:Bounds x="250" y="230" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0gxvys9" bpmnElement="Gateway_1od2k4k" isMarkerVisible="true">
        <dc:Bounds x="405" y="245" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="402" y="302" width="57" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1203noj_di" bpmnElement="End_Event_CheckCourseSize">
        <dc:Bounds x="552" y="252" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="868" y="295" width="84" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0due5t0_di" bpmnElement="Flow_0due5t0">
        <di:waypoint x="188" y="270" />
        <di:waypoint x="250" y="270" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1ekjm6a" bpmnElement="Flow_1p9y6tn">
        <di:waypoint x="350" y="270" />
        <di:waypoint x="405" y="270" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0394vm8_di" bpmnElement="Flow_0394vm8">
        <di:waypoint x="455" y="270" />
        <di:waypoint x="552" y="270" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_090lhw2_di" bpmnElement="Flow_090lhw2">
        <di:waypoint x="430" y="245" />
        <di:waypoint x="430" y="148" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1q0g0j3">
    <bpmndi:BPMNPlane id="BPMNPlane_0seg1iz" bpmnElement="checkAllPrerequisites">
      <bpmndi:BPMNShape id="Event_05mr2no_di" bpmnElement="Event_05mr2no">
        <dc:Bounds x="182" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="159" y="145" width="84" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ld0j4x_di" bpmnElement="checkPrerequisite">
        <dc:Bounds x="310" y="80" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0llif7p_di" bpmnElement="Event_0llif7p" bioc:stroke="#205022" bioc:fill="#c8e6c9" color:background-color="#c8e6c9" color:border-color="#205022">
        <dc:Bounds x="502" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="480" y="145" width="81" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_02ckucm_di" bpmnElement="Event_0fqnniy" bioc:stroke="#831311" bioc:fill="#ffcdd2" color:background-color="#ffcdd2" color:border-color="#831311">
        <dc:Bounds x="502" y="182" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="480" y="225" width="83" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1837ir0_di" bpmnElement="Event_1eq3mjc">
        <dc:Bounds x="392" y="142" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0c91xek_di" bpmnElement="Flow_0c91xek">
        <di:waypoint x="218" y="120" />
        <di:waypoint x="310" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1kcrrbw_di" bpmnElement="Flow_1kcrrbw" bioc:stroke="#205022" color:border-color="#205022">
        <di:waypoint x="410" y="120" />
        <di:waypoint x="502" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0m80oo8_di" bpmnElement="Flow_0m80oo8" bioc:stroke="#831311" color:border-color="#831311">
        <di:waypoint x="410" y="178" />
        <di:waypoint x="410" y="200" />
        <di:waypoint x="502" y="200" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
